(def constant TOOLTIP_MAX_WIDTH 310px)
(def constant TOOLTIP_MIN_WIDTH 40px)

# Block with text field. Allows to specify Text style and top margin
(def macro TooltipTextBlock(text:expression, class:str, marginTop:number, maxWidth:number = "TOOLTIP_MAX_WIDTH", marginBottom:number = 0, useHtml:expression = false)
    (tf
        (bind visible "text != ''")
        (style
            (maxWidth = "maxWidth")
            (minWidth = "TOOLTIP_MIN_WIDTH")
            (marginTop = "marginTop")
            (marginBottom = "marginBottom")
            (multiline = true)
            (wordWrap = true)
            (autoSize = true)
        )
        (class "class")
        (bind htmlText "text != '' ? htmlTextStyle(text, class) : ''"
            (enabled = "useHtml")
        )
        (bind text "text"
            (enabled = "!useHtml")
        )
    )
)

# Simple splitter displayed in the middle of the block
(def layout TooltipSplitter()
    (style
        (width = 100%)
        (align = "center")
    )
    (image
        (source = "R.atlases.components.tool_tip_separator()")
    )
)

(def macro TooltipDefaultConstraints()
    (style
        (maxWidth = "TOOLTIP_MAX_WIDTH")
        (minWidth = "TOOLTIP_MIN_WIDTH")
        (maxHeight = 520px)
        (minHeight = 20px)
    )
)

(def macro TooltipWhiteBG()
    (image
        (style
            (position = "absolute")
            (left = -27px)
            (right = -27px)
            (height = 100%)
        )
        (source = "R.images.gui.maps.icons.library.white_bg()")
    )
)